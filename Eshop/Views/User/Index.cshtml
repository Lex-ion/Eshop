@using Eshop.Entities

@{
    UserInfo info = ViewBag.UserInfo;
    List<Order> orders = ViewBag.Orders;
}

<div class="container mt-4">
    <h1 class="mb-3">👋 Vítejte, <span class="text-primary">@info.FullName</span>!</h1>

    <a asp-action="EditAccount" class="btn btn-outline-primary mb-4">✏️ Upravit osobní informace</a>

    <h2 class="mb-3">📦 Vaše objednávky:</h2>

    @if (orders.Any())
    {
        <div class="list-group">
            @foreach (Order o in orders)
            {
                <a asp-action="OrderDetail" asp-route-id="@o.Id" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center shadow-sm">
                    <div>
                        <strong>🗓️ @o.OrderDate.ToShortDateString()</strong>
                        <br>
                        <span class="text-muted">Položky: @o.OrderItems.Count</span>
                    </div>
                    <span class="badge bg-primary rounded-pill">📜 Detail</span>
                </a>
            }
        </div>
    }
    else
    {
        <div class="alert alert-info text-center mt-3">
            <p class="mb-0">😞 Zatím nemáte žádné objednávky.</p>
        </div>
    }
</div>
